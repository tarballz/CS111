# Created by: Zach Thompson <hideo@lastamericanempire.com>
# $FreeBSD: tags/RELEASE_10_3_0/misc/gkrellmlaunch2/Makefile 341060 2014-01-25 17:00:15Z miwi $

PORTNAME=	gkrellmlaunch
PORTVERSION=	0.5
PORTREVISION=	8
CATEGORIES=	misc
MASTER_SITES=	SF
PKGNAMESUFFIX=	2

MAINTAINER=	ports@FreeBSD.org
COMMENT=	Application launcher plugin for GKrellM2

LICENSE=	GPLv2 # (or later)

BUILD_DEPENDS=	gkrellm2>0:${PORTSDIR}/sysutils/gkrellm2
RUN_DEPENDS=	gkrellm2>0:${PORTSDIR}/sysutils/gkrellm2

USES=		pkgconfig
ALL_TARGET=	gkrellmlaunch.so

PLIST_FILES=	libexec/gkrellm2/plugins/gkrellmlaunch.so

post-patch:
	@${REINPLACE_CMD} -e \
		'/^FLAGS/s|-O[0-9]|| ; \
		 /^FLAGS/s|-g|| ; \
		 /^CC/s| =| +=| ; \
		 /^CC/s|gcc||' ${WRKSRC}/Makefile

do-install:
	@${MKDIR} ${STAGEDIR}${PREFIX}/libexec/gkrellm2/plugins
	(cd ${WRKSRC} && ${INSTALL_LIB} gkrellmlaunch.so \
		${STAGEDIR}${PREFIX}/libexec/gkrellm2/plugins)

.include <bsd.port.mk>
