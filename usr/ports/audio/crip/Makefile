# Created by: Philip Paeps <philip@paeps.cx>
# $FreeBSD: tags/RELEASE_10_3_0/audio/crip/Makefile 337591 2013-12-26 18:17:44Z bapt $

PORTNAME=	crip
PORTVERSION=	3.9
PORTREVISION=	1
CATEGORIES=	audio
MASTER_SITES=	http://bach.dynet.com/crip/src/

MAINTAINER=	philip@FreeBSD.org
COMMENT=	Terminal-based ripper/encoder/tagger

OPTIONS_DEFINE=	SOX DOCS
SOX_DESC=	SoX audio support

RUN_DEPENDS=	p5-CDDB_get>=0:${PORTSDIR}/audio/p5-CDDB_get \
		cdparanoia:${PORTSDIR}/audio/cdparanoia \
		oggenc:${PORTSDIR}/audio/vorbis-tools \
		vorbisgain:${PORTSDIR}/audio/vorbisgain

SOX_RUN_DEPENDS+=	sox:${PORTSDIR}/audio/sox
PORTDOCS=	Changelog README criprc_example

USES=		shebangfix perl5
SHEBANG_FILES=	crip editcomment editfilenames
NO_BUILD=	yes

do-install:
	${INSTALL_SCRIPT} ${WRKSRC}/crip ${STAGEDIR}${PREFIX}/bin
	${INSTALL_SCRIPT} ${WRKSRC}/editcomment ${STAGEDIR}${PREFIX}/bin
	${INSTALL_SCRIPT} ${WRKSRC}/editfilenames ${STAGEDIR}${PREFIX}/bin
	@${MKDIR} ${STAGEDIR}${DOCSDIR}
	${INSTALL_DATA} ${PORTDOCS:S|^|${WRKSRC}/|} ${STAGEDIR}${DOCSDIR}

.include <bsd.port.mk>
